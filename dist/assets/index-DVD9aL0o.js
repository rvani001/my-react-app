(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("homeButton"),c=document.getElementById("addSiteButton"),o=document.getElementById("editSiteButton"),s=document.getElementById("showStatButton"),e=document.getElementById("sendReportButton"),t=document.getElementById("mapWindow"),n=document.getElementById("addWindow"),d=document.getElementById("editWindow"),a=document.getElementById("statWindow"),r=document.getElementById("reportWindow");i.addEventListener("click",()=>{t.classList.add("active"),n.classList.remove("active"),d.classList.remove("active"),a.classList.remove("active"),r.classList.remove("active")}),c.addEventListener("click",()=>{n.classList.add("active"),t.classList.remove("active"),d.classList.remove("active"),a.classList.remove("active"),r.classList.remove("active")}),o.addEventListener("click",()=>{d.classList.add("active"),t.classList.remove("active"),n.classList.remove("active"),a.classList.remove("active"),r.classList.remove("active")}),s.addEventListener("click",()=>{a.classList.add("active"),t.classList.remove("active"),n.classList.remove("active"),d.classList.remove("active"),r.classList.remove("active")}),e.addEventListener("click",()=>{r.classList.add("active"),t.classList.remove("active"),n.classList.remove("active"),d.classList.remove("active"),a.classList.remove("active")})});function u(i,c,o){var s=new Headers;s.append("Content-Type","application/json");var e=JSON.stringify({Site:i,Code:c,Inverter:o}),t={method:"POST",headers:s,body:e,redirect:"follow"};fetch("https://za02up3nab.execute-api.ap-southeast-1.amazonaws.com/dev",t).then(n=>n.text()).then(n=>console.log(n)).catch(n=>console.log("error",n))}const v=document.getElementById("editSiteButton");v.addEventListener("click",function(){l()});const p=document.getElementById("addSite");p.addEventListener("click",function(){confirm("Are you sure you want to add this site?")&&(u(document.getElementById("siteName").value,document.getElementById("siteCode").value,document.getElementById("inverter").value),l())});const L=document.getElementById("deleteSite");L.addEventListener("click",function(){confirm("Are you sure you want to delete this site?")&&l()});function l(){var i=new Headers;i.append("Content-Type","application/json");var c={method:"GET",headers:i,redirect:"follow"};fetch("https://z60udsow75.execute-api.ap-southeast-1.amazonaws.com/dev",c).then(o=>o.json()).then(o=>{const s=JSON.parse(o.body),e=document.getElementById("dynamicSelectSites");e.innerHTML="",s.forEach(t=>{const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)}),console.log(s)}).catch(o=>console.log("error",o))}const m=document.getElementById("dynamicSelectSites");m.addEventListener("change",function(){y(m.value)});function y(i){document.getElementById("siteDetail").innerHTML=i}
